<div class="container mt-5 pt-5 request-history-container">

  <!-- Header Section -->
  <div class="d-flex justify-content-between align-items-center mb-5 p-4 bg-light rounded-3 shadow-sm">
    <h2 class="m-0 text-primary">Service Requests History</h2>
    <button mat-raised-button color="primary" class="ms-2">
      <mat-icon>add</mat-icon> New Request
    </button>
  </div>

  <!-- Filters Section -->
  <div class="row g-4 mb-5 p-4 bg-light rounded-3 shadow-sm">
    <div class="col-md-4">
      <label for="statusFilter" class="form-label fw-bold">Status:</label>
      <select id="statusFilter" class="form-select">
        <option value="">All Statuses</option>
        <option value="Pending">Pending</option>
        <option value="Completed">Completed</option>
        <option value="Cancelled">Cancelled</option>
      </select>
    </div>

    <div class="col-md-4">
      <label for="serviceTypeFilter" class="form-label fw-bold">Service Type:</label>
      <select id="serviceTypeFilter" class="form-select">
        <option value="">All Services</option>
        <option value="Carpentry">Carpentry</option>
        <option value="Plumbing">Plumbing</option>
        <option value="Painting">Painting</option>
        <option value="Home Services">Home Services</option>
      </select>
    </div>

    <div class="col-md-4 d-flex align-items-end">
      <button mat-raised-button color="primary" class="w-100">
        <mat-icon>filter_alt</mat-icon> Apply Filters
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div class="text-center my-5 py-5 loading-state">
    <mat-spinner diameter="50" color="primary"></mat-spinner>
    <p class="mt-3 text-muted">Loading requests...</p>
  </div>

  <!-- Error State -->
  <div class="text-center my-5 py-5 error-state">
    <mat-icon class="text-danger" style="font-size: 48px;">error_outline</mat-icon>
    <h4 class="text-danger mt-3">Oops! Something went wrong</h4>
    <p class="text-muted mb-4">We couldn't load your service requests</p>
    <button mat-raised-button color="primary" class="px-4">
      <mat-icon>refresh</mat-icon> Retry
    </button>
  </div>

  <!-- Empty State -->
  <div class="text-center my-5 py-5 empty-state">
    <mat-icon style="font-size: 48px;" class="text-primary">assignment</mat-icon>
    <h4 class="mt-3">No service requests found</h4>
    <p class="text-muted mb-4">Try adjusting your filters or create a new request</p>
    <button mat-raised-button color="primary" class="px-4">
      <mat-icon>add</mat-icon> Create Request
    </button>
  </div>

  <!-- Request List -->
  <div class="mb-5">
    <div class="table-responsive rounded-3 overflow-hidden shadow-sm">
      <table class="table table-bordered table-hover align-middle text-center mb-0">
        <thead class="table-primary">
          <tr>
            <th class="py-3">Request ID</th>
            <th class="py-3">Service</th>
            <th class="py-3">Customer</th>
            <th class="py-3">Date</th>
            <th class="py-3">Status</th>
            <th class="py-3">Payment Method</th>
            <th class="py-3">Amount</th>
            <th class="py-3">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-light">
          <tr *ngFor="let request of requests">
            <td class="py-3">id</td>
            <td class="py-3">service</td>
            <td class="py-3">request</td>
            <td class="py-3">12.3.2025</td>
            <td class="py-3">
              <span class="badge bg-success d-inline-flex align-items-center justify-content-center gap-1 py-2 px-3">
                <mat-icon style="font-size: 16px;">check_circle</mat-icon>
                {{ request.status }}
              </span>
            </td>
            <td class="py-3">{{ request.paymentMethod }}</td>
            <td class="py-3 fw-bold">total paid</td>
            <td class="py-3">
              <button mat-icon-button color="primary" [routerLink]="['/request', request.id]" matTooltip="View Details">
                <mat-icon>visibility</mat-icon>
              </button>
              <button mat-icon-button color="primary" class="ms-1" matTooltip="Edit">
                <mat-icon>edit</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <div class="mt-5 d-flex justify-content-center">
      <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"
                     color="primary" class="rounded-3 shadow-sm"></mat-paginator>
    </div>
  </div>

</div>
